<!DOCTYPE html><html lang=en-GB><head><meta name=viewport content="width=device-width, initial-scale=1"><meta name=keywords content=""><meta name=no-email-collection content="/privacy.txt"><meta name=twitter:card content=summary_large_image><meta property=og:title content="Hexdump shell command • Greg Daynes"><meta property="og:description" name=description content="The website and home of Gregory Daynes. Find links to projects, notebooks, and resume."><meta property="og:image" content="data:;base64,iVBORw0KGgo="><title>Hexdump shell command • Greg Daynes</title><link rel=me href="//mastodon.social/@gregdaynes"><link rel=author href="/humans.txt"><link rel=icon href="data:;base64,iVBORw0KGgo="><link type="application/atom+xml" rel=alternate href="/feed.xml"><link rel=stylesheet href="assets/css/a85f76.css"><style>code{font-size:.9em}p>code{background:var(--_color-background-code)}div.highlight{overflow:scroll;background:var(--_color-background-code)}pre{margin-block:0;padding:var(--s-1);border-radius:3px}</style></head><body class="page hexdump-shell-command"><header><h1 class=text-fit><span><a data-text="Greg Daynes" href="/">Greg Daynes</a></span><span aria-hidden=true style="visibility: hidden">Greg Daynes</span></h1><p class=text-fit><span><span>Full Stack Software Design, Development & Management</span></span><span aria-hidden=true style="visibility: hidden">Full Stack Software Design, Development & Management</span></p><nav><ul><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/resume">Resume</a></li><li><a href="/projects">Projects</a></li><li><a href="/notebook">Notebook</a></li></ul></nav></header><div class=with-sidebar><main><article><h2>Hexdump shell command</h2><p>I was asked to help understand the following command</p><div class="language-sh highlighter-rouge"><div class=highlight><pre class=highlight><code>xxd <span class="nt">-p</span> data.txt | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span> | <span class="nb">sed</span> <span class="s1">'s/.{2}/0x&amp;,/g'</span> <span class="o">&gt;</span> obfuscated.txt
</code></pre></div></div><p>This is my breakdown</p><p><code class="language-plaintext highlighter-rouge">xxd -p data.txt</code> dumps the hex value of the data. <code class="language-plaintext highlighter-rouge">tr -d '\n'</code> is deleting <code class="language-plaintext highlighter-rouge">\n</code> on each input, it’s removing newlines. <code class="language-plaintext highlighter-rouge">sed -E 's/.{2}/0x&amp;,/g'</code> takes the single line input and checks it against the regex.</p><p><code class="language-plaintext highlighter-rouge">s/.{2}/0x&amp;,/g</code> breaks down to <code class="language-plaintext highlighter-rouge">.{2}</code> which says match 2 of any non line-terminating character such as <code class="language-plaintext highlighter-rouge">\n</code><code class="language-plaintext highlighter-rouge">0x&amp;,</code> is then used to surround the 2 characters matched. <code class="language-plaintext highlighter-rouge">0x</code> is the prefix, <code class="language-plaintext highlighter-rouge">&amp;</code> is the stand in for the matched characters, and <code class="language-plaintext highlighter-rouge">,</code> is the suffix <code class="language-plaintext highlighter-rouge">g</code> is the flag to run against all, not just the first match.</p><p>So this script it converting a multiline hexdump, into a single line, then prefixing each character pair with the the numerical constant in hex.</p><p><code class="language-plaintext highlighter-rouge">echo '1' | xxd -p</code> outputs <code class="language-plaintext highlighter-rouge">310a</code>. <code class="language-plaintext highlighter-rouge">1</code> is <code class="language-plaintext highlighter-rouge">31</code> in hex <code class="language-plaintext highlighter-rouge">0a</code> is end of line. <code class="language-plaintext highlighter-rouge">echo '1' | xxd -p | tr -d '\n'</code> outputs <code class="language-plaintext highlighter-rouge">310a%</code> removing the line breaks from the hex dump. <code class="language-plaintext highlighter-rouge">echo '1' | xxd -p | tr -d '\n' | sed -E 's/.{2}/0x&amp;,/g'</code> outputs <code class="language-plaintext highlighter-rouge">0x31,0x0a,</code></p><p>I found this task deeply enjoyable, hopefully my understanding is correct.</p></article></main><aside><h2>Projects</h2><nav><ul><li class=""><a href="/project/2023/12/22/hyde-decap.html"> Hyde Decap</a></li><li class=""><a href="/project/2023/12/28/fellow-stagg-repair.html"> Fellow Stagg Repair</a></li><li class=""><a href="/project/2018/04/07/project-hyde.html"> Project Hyde</a></li><li class=""><a href="/project/2023/12/04/hyde-page-css-js.html"> Hyde Page CSS & JS</a></li></ul></nav><a href="/projects">More Projects</a><h2>Notes</h2><nav><ul><li class=""><a href="/note/2024/07/30/callable-class-instance.html"> Callable Class Instance</a></li><li class=""><a href="/note/2024/07/29/web-components.html"> Web Components</a></li><li class=""><a href="/note/2024/02/10/hexdump-shell-command.html"> Hexdump shell command</a></li><li class=""><a href="/note/2023/12/08/fixing-homebrew-permissions.html"> Fixing Hombrew permissions when using ASDF</a></li><li class=""><a href="/note/2021/09/18/node-binary-artifacts.html"> Node CLI / Binary Artifacts</a></li></ul></nav><a href="/notebook">More Notes</a></aside></div><footer><p>©2024 Gregory Daynes</p><nav><ul><li><a href="mailto:email@gregdaynes.com">Contact</a></li><li><a href="/privacy.txt">Privacy</a></li><li><a href="/humans.txt">Humans</a></li><li><a href="/robots.txt">Robots</a></li><li><a href="/sitemap.xml">Site Map</a></li><li><a href="/feed.xml">RSS</a></li></ul></nav><p><small>Content on this site is licensed under Creative Common Attribution-ShareAlike 4.0 International License. All code content is licensed under the MIT license, unless an excerpt from a larger work under another license.</small></p></footer></body></html>