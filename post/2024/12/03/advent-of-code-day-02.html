<!DOCTYPE html><html lang=en-GB><head><meta name=viewport content="width=device-width, initial-scale=1"><meta name=keywords content=""><meta name=no-email-collection content="/privacy.txt"><meta name=twitter:card content=summary_large_image><meta property=og:title content="Advent of Code 2024 - Day 2 • Greg Daynes"><meta property="og:description" name=description content="The website and home of Gregory Daynes. Find links to projects, notebooks, and resume."><meta property="og:image" content="data:;base64,iVBORw0KGgo="><title>Advent of Code 2024 - Day 2 • Greg Daynes</title><link rel=me href="//mastodon.social/@gregdaynes"><link rel=author href="/humans.txt"><link rel=icon href="data:;base64,iVBORw0KGgo="><link type="application/atom+xml" rel=alternate href="/feed.xml"><link rel=stylesheet href="/assets/css/variables-critical-text-fit-toc-list-88113d.css"><style>code{font-size:.9em}p>code{background:var(--_color-background-code)}div.highlight{overflow:scroll;background:var(--_color-background-code)}pre{margin-block:0;padding:var(--s-1);border-radius:3px;overflow-x:auto}.footnotes p{margin-block-end:0}blockquote{border-inline-start:4px solid;padding-inline-start:1rem;margin-inline:auto;font-weight:bold;font-style:italic}</style></head><body class="page advent-of-code-2024---day-2"><img src="//analytics.app.gregdaynes.com?type=image&page=/post/2024/12/03/advent-of-code-day-02.html" width=0 height=0 /><header><h1 class=text-fit><span><a data-text="Greg Daynes" href="/">Greg Daynes</a></span><span aria-hidden=true style="visibility: hidden">Greg Daynes</span></h1><p class=text-fit><span><span>Full Stack Software Design, Development & Management</span></span><span aria-hidden=true style="visibility: hidden">Full Stack Software Design, Development & Management</span></p><nav><ul><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/resume">Resume</a></li><li><a href="/projects">Projects</a></li><li><a href="/notebook">Notebook</a></li></ul></nav></header><div class=with-sidebar><main><article><h2>Advent of Code 2024 - Day 2</h2><ul id=markdown-toc><li><a href="#my-solution" id=markdown-toc-my-solution>My solution</a></li></ul><p>Code for <a href="//github.com/gregdaynes/advent-of-code-2024/tree/day02">Day 02</a></p><p>I’ll be honest, this one broke me. Part 1 was easy, but part two came in and just stomped on everything.</p><p>I almost gave up. I did a few times throughout the day.</p><p>I also cheated by going through reddit for more edge cases to test.</p><p>Which in the end may not have been necessary. It turns out, even though my downloaded data looked clean, I didn’t run <code class="language-plaintext highlighter-rouge">.trim</code> on it before processing, which lead to overcounting the safe reports by 1.</p><p>Starting off with a good reminder.</p><p><strong>CLEAN YOUR DATA FIRST</strong></p><p>It may look clean, and if you’re dealing with line based data, always trim off empty lines.</p><h3 id=my-solution>My solution</h3><div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class="kd">function</span> <span class="nf">solve</span> <span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">reports</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">)</span>

  <span class="kd">function</span> <span class="nf">isValid</span> <span class="p">(</span><span class="nx">levels</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">inc</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="kd">let</span> <span class="nx">dec</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">levels</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">levels</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">levels</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>

      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">c</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">inc</span> <span class="o">=</span> <span class="kc">false</span>
      <span class="p">}</span>

      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">c</span> <span class="o">&gt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&gt;=</span> <span class="nx">c</span> <span class="o">-</span> <span class="mi">3</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">dec</span> <span class="o">=</span> <span class="kc">false</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if </span><span class="p">(</span><span class="nx">inc</span> <span class="o">||</span> <span class="nx">dec</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span>

    <span class="k">return</span> <span class="kc">false</span>
  <span class="p">}</span>

  <span class="k">for </span><span class="p">(</span><span class="kd">const</span> <span class="nx">report</span> <span class="k">in</span> <span class="nx">reports</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">levels</span> <span class="o">=</span> <span class="nx">reports</span><span class="p">[</span><span class="nx">report</span><span class="p">].</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">).</span><span class="nf">map</span><span class="p">(</span><span class="nb">Number</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">safe</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="kd">let</span> <span class="nx">arrays</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">const</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">levels</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">levelsClone</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">levels</span><span class="p">]</span>
      <span class="nx">levelsClone</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="nx">arrays</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">levelsClone</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nx">arrays</span> <span class="o">=</span> <span class="nx">arrays</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">isValid</span><span class="p">).</span><span class="nf">filter</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">)</span>

    <span class="c1">//we need at least 1 valid set of levels</span>
    <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">arrays</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="nx">safe</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="nx">reports</span><span class="p">[</span><span class="nx">report</span><span class="p">]</span> <span class="o">=</span> <span class="nx">safe</span>
  <span class="p">}</span>

  <span class="c1">// return made safe report count</span>
  <span class="k">return</span> <span class="nx">reports</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">item</span> <span class="p">?</span> <span class="nx">acc</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">acc</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><p>What’s incredibly frustrating about this challenge, is that the way to do it is through brute-force. I can’t imagine any other way to handle it. And the brute-force approach is tedious at best.</p><p>I wouldn’t want to inherit this code, even with substantial tests and documentation. It would likely become marked with here-be-dragons and I would dread needing to make any change. It’s brittle, and has a high cognitive load.</p></article></main><aside><h2>Projects</h2><nav><ul><li class=""><a href="/project/2023/12/22/hyde-decap.html"> Hyde Decap</a></li><li class=""><a href="/project/2025/06/08/earthquakes.html"> Earthquakes with Leaflet.js & Go</a></li><li class=""><a href="/project/2023/12/04/hyde-page-css-js.html"> Hyde Page CSS & JS</a></li><li class=""><a href="/project/2023/12/28/fellow-stagg-repair.html"> Fellow Stagg Repair</a></li></ul></nav><a href="/projects">More Projects</a><h2>Notes</h2><nav><ul><li class=""><a href="/note/2024/07/30/callable-class-instance.html"> Callable Class Instance</a></li><li class=""><a href="/note/2024/07/29/web-components.html"> Web Components</a></li><li class=""><a href="/note/2024/02/10/hexdump-shell-command.html"> Hexdump shell command</a></li><li class=""><a href="/note/2023/12/08/fixing-homebrew-permissions.html"> Fixing Homebrew permissions when using ASDF</a></li><li class=""><a href="/note/2021/09/18/node-binary-artifacts.html"> Node CLI / Binary Artifacts</a></li></ul></nav><a href="/notebook">More Notes</a></aside></div><footer><p>©2024 Gregory Daynes</p><nav><ul><li><a href="mailto:email@gregdaynes.com">Contact</a></li><li><a href="/privacy.txt">Privacy</a></li><li><a href="/humans.txt">Humans</a></li><li><a href="/robots.txt">Robots</a></li><li><a href="/sitemap.xml">Site Map</a></li><li><a href="/feed.xml">RSS</a></li><li><a href="/stats">Analytics</a></li></ul></nav><p><small>Content on this site is licensed under Creative Common Attribution-ShareAlike 4.0 International License. All code content is licensed under the MIT license, unless an excerpt from a larger work under another license.</small></p></footer></body></html>